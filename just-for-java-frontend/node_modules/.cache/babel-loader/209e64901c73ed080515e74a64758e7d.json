{"ast":null,"code":"import _objectSpread from\"/Users/irithkatiyar/Desktop/just-for-java-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/irithkatiyar/Desktop/just-for-java-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/irithkatiyar/Desktop/just-for-java-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/irithkatiyar/Desktop/just-for-java-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/irithkatiyar/Desktop/just-for-java-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import Select from'react-select';var options=[{label:\"todo\",value:\"todo\"},{label:\"in progress\",value:\"in progress\"},{label:\"complete\",value:\"complete\"}];var ProgressUpdater=/*#__PURE__*/function(_React$Component){_inherits(ProgressUpdater,_React$Component);var _super=_createSuper(ProgressUpdater);function ProgressUpdater(props){var _this;_classCallCheck(this,ProgressUpdater);_this=_super.call(this,props);_this.handleChange=function(selectedOption){_this.props.update(selectedOption.value);axios.post(\"https://us-central1-just-for-java.cloudfunctions.net/app/api/update-topic-status\",{id:_this.props.user.uid,topic:_this.props.page,status:selectedOption.value}).then(function(res){console.log(res.data);});};return _this;}_createClass(ProgressUpdater,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.user){this.getTopicStatus();}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.user&&!prevProps.user){this.getTopicStatus();}}},{key:\"getTopicStatus\",value:function getTopicStatus(){var _this2=this;axios.get(\"https://us-central1-just-for-java.cloudfunctions.net/app/api/get-topic-status\",{params:{id:this.props.user.uid,topic:this.props.page}}).then(function(res){console.log(res.data);if(!res.data.status){_this2.props.update(\"todo\");}else{_this2.props.update(res.data.status);}});}},{key:\"render\",value:function render(){var _this3=this;var selectedOption={label:this.props.progress,value:this.props.progress};var customStyles={option:function option(provided,state){return _objectSpread(_objectSpread({},provided),{},{backgroundColor:state.value==\"todo\"?'#6B9080':state.value==\"in progress\"?'#A4C3B2':'#cce3de',color:'#172A3A'});},control:function control(provided,state){return _objectSpread(_objectSpread({},provided),{},{backgroundColor:_this3.props.progress==\"todo\"?'#6B9080':_this3.props.progress==\"in progress\"?'#A4C3B2':'#cce3de',border:_this3.props.progress==\"todo\"?'#6B9080':_this3.props.progress==\"in progress\"?'#A4C3B2':'#cce3de'});},singleValue:function singleValue(provided,state){return{color:'#172A3A'};}};return/*#__PURE__*/React.createElement(\"div\",{className:\"progress\"},this.props.user?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Select,{styles:customStyles,value:selectedOption,onChange:this.handleChange,options:options,isSearchable:false,theme:function theme(_theme){return _objectSpread(_objectSpread({},_theme),{},{borderRadius:8,colors:_objectSpread(_objectSpread({},_theme.colors),{},{primary:'#FFA69E',primary50:'#FFA69E',neutral20:'#172A3A',neutral60:'#FFA69E',neutral90:'#172A3A'})});}})):/*#__PURE__*/React.createElement(\"b\",{className:\"pageName\"},\"sign in to save your progress! it just takes 13 seconds :)\"));}}]);return ProgressUpdater;}(React.Component);export default ProgressUpdater;","map":{"version":3,"sources":["/Users/irithkatiyar/Desktop/just-for-java-frontend/src/components/ProgressUpdater.js"],"names":["React","axios","Select","options","label","value","ProgressUpdater","props","handleChange","selectedOption","update","post","id","user","uid","topic","page","status","then","res","console","log","data","getTopicStatus","prevProps","get","params","progress","customStyles","option","provided","state","backgroundColor","color","control","border","singleValue","theme","borderRadius","colors","primary","primary50","neutral20","neutral60","neutral90","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Select from 'react-select';\n\nconst options = [\n  { label: \"todo\", value: \"todo\" },\n  { label: \"in progress\", value: \"in progress\" },\n  { label: \"complete\", value: \"complete\" }\n];\n\nclass ProgressUpdater extends React.Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t}\n\n\tcomponentDidMount() {\n\t\tif(this.props.user) {\n\t\t\tthis.getTopicStatus();\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif(this.props.user && !prevProps.user) {\n\t    \tthis.getTopicStatus();\n\t\t}\n\t}\n\n\thandleChange = selectedOption => {\n\t\tthis.props.update(selectedOption.value);\n    \taxios.post(\"https://us-central1-just-for-java.cloudfunctions.net/app/api/update-topic-status\", { \n\t\t\tid: this.props.user.uid,\n\t\t\ttopic: this.props.page,\n\t\t\tstatus: selectedOption.value\n\t\t})\n\t      .then(res => {\n\t        console.log(res.data);\n\t      })\n\t};\n\n\tgetTopicStatus() {\n    \taxios.get(\"https://us-central1-just-for-java.cloudfunctions.net/app/api/get-topic-status\", { \n\t\t\tparams: {\n      \t\t\tid: this.props.user.uid,\n\t\t\t\ttopic: this.props.page\n    \t\t}\n\t\t})\n\t      .then(res => {\n\t        console.log(res.data);\n\t        if(!res.data.status) {\n\t        \tthis.props.update(\"todo\");\n\t        } else {\n\t        \tthis.props.update(res.data.status);\n\t        }\n\t      })\n\t}\n\n\trender(){\n\t\tconst selectedOption = { label: this.props.progress, value: this.props.progress }\n\t\tconst customStyles = {\n\t\t  option: (provided, state) => ({\n\t\t    ...provided,\n\t\t    backgroundColor: state.value == \"todo\" ? '#6B9080' : state.value == \"in progress\" ? '#A4C3B2' : '#cce3de',\n\t\t    color: '#172A3A',\n\t\t  }),\n\t\t  control: (provided, state) => ({\n\t\t  \t...provided,\n\t\t  \tbackgroundColor: this.props.progress == \"todo\" ? '#6B9080' : this.props.progress == \"in progress\" ? '#A4C3B2' : '#cce3de',\n\t\t    border: this.props.progress == \"todo\" ? '#6B9080' : this.props.progress == \"in progress\" ? '#A4C3B2' : '#cce3de',\n\t\t  }),\n\t\t  singleValue: (provided, state) => ({\n\t\t  \tcolor: '#172A3A',\n\t\t  }),\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"progress\">\n\t\t\t\t{this.props.user ? \n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tstyles={customStyles}\n\t\t\t\t\t      \tvalue={selectedOption}\n\t\t\t\t\t      \tonChange={this.handleChange}\n\t\t\t\t\t      \toptions={options}\n\t\t\t\t\t      \tisSearchable={false}\n\t\t\t\t\t      \ttheme={theme => ({\n\t\t\t\t\t\t      ...theme,\n\t\t\t\t\t\t      borderRadius: 8,\n\t\t\t\t\t\t      colors: {\n\t\t\t\t\t\t        ...theme.colors,\n\t\t\t\t\t\t        primary: '#FFA69E',\n\t\t\t\t\t\t        primary50: '#FFA69E',\n\t\t\t\t\t\t        neutral20: '#172A3A',\n\t\t\t\t\t\t\t\tneutral60: '#FFA69E',\n\t\t\t\t\t\t        neutral90: '#172A3A',\n\t\t\t\t\t\t      },\n\t\t\t\t\t\t    })}\n\t\t\t\t\t    />\n\t\t\t\t\t</div>\n\t\t\t\t\t: <b className=\"pageName\">sign in to save your progress! it just takes 13 seconds :)</b>\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\nexport default ProgressUpdater;"]},"metadata":{},"sourceType":"module"}